exports.id=264,exports.ids=[264],exports.modules={55604:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=55604,e.exports=t},244:()=>{},25903:()=>{},51559:(e,t,n)=>{Promise.resolve().then(n.bind(n,51291)),Promise.resolve().then(n.bind(n,45379)),Promise.resolve().then(n.bind(n,15659)),Promise.resolve().then(n.bind(n,71956))},89672:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,59994,23)),Promise.resolve().then(n.t.bind(n,17548,23)),Promise.resolve().then(n.t.bind(n,37362,23)),Promise.resolve().then(n.t.bind(n,9644,23)),Promise.resolve().then(n.t.bind(n,12623,23)),Promise.resolve().then(n.t.bind(n,53479,23))},51291:(e,t,n)=>{"use strict";n.d(t,{ReactQueryProvider:()=>c});var s=n(56567),o=n(11325),i=n(31866),r=n(24461),a=n(1861);function c({children:e}){let[t]=(0,a.useState)(()=>new o.S({defaultOptions:{queries:{staleTime:3e5,refetchOnWindowFocus:!1,retry:(e,t)=>e<3&&t instanceof Error&&("NetworkError"===t.name||t.message.includes("fetch"))},mutations:{retry:!1}}}));return(0,s.jsxs)(i.aH,{client:t,children:[e,s.jsx(r.t,{initialIsOpen:!1})]})}},45379:(e,t,n)=>{"use strict";n.d(t,{AuthProvider:()=>d});var s=n(56567),o=n(1861),i=n(61417);class r{constructor(e){this.user=e}hasPermission(e){return!!this.user&&("admin"===this.user.role||this.user.permissions.includes(e))}hasAnyPermission(e){return!!this.user&&e.some(e=>this.hasPermission(e))}hasAllPermissions(e){return!!this.user&&e.every(e=>this.hasPermission(e))}hasRole(e){return!!this.user&&this.user.role===e}canAccessResource(e,t){let n=`${e}:${t}`;return this.hasPermission(n)}}class a{static{this.hierarchy={viewer:1,user:2,admin:3}}static hasMinimumRole(e,t){return this.hierarchy[e]>=this.hierarchy[t]}static canElevateToRole(e,t){return"admin"===t?"admin"===e:"user"!==t||"admin"===e||"user"===e}}let c=e=>{let t=new r(e);return{can:e=>t.hasPermission(e),canAny:e=>t.hasAnyPermission(e),canAll:e=>t.hasAllPermissions(e),isRole:e=>t.hasRole(e),isAdmin:()=>t.hasRole("admin"),isUser:()=>t.hasRole("user"),isViewer:()=>t.hasRole("viewer"),canManageTasks:()=>t.canAccessResource("tasks","create")||t.canAccessResource("tasks","update")||t.canAccessResource("tasks","delete"),canViewTasks:()=>t.canAccessResource("tasks","read"),canAccessDashboard:()=>t.canAccessResource("dashboard","read"),canManageUsers:()=>t.hasRole("admin"),showIfCan:(e,n)=>t.hasPermission(e)?n:null,showIfRole:(e,n)=>t.hasRole(e)?n:null,showIfMinRole:(t,n)=>e&&a.hasMinimumRole(e.role,t)?n:null}},l=(e,t)=>{switch(t.type){case"AUTH_START":return{...e,isLoading:!0,error:null};case"AUTH_SUCCESS":return{user:t.payload.user,token:t.payload.token,isAuthenticated:!0,isLoading:!1,error:null};case"AUTH_ERROR":return{user:null,token:null,isAuthenticated:!1,isLoading:!1,error:t.payload};case"AUTH_LOGOUT":return{user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null};case"AUTH_INIT":if(t.payload)return{user:t.payload.user,token:t.payload.token,isAuthenticated:!0,isLoading:!1,error:null};return{user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null};default:return e}},u=(0,o.createContext)(void 0),h={user:null,token:null,isAuthenticated:!1,isLoading:!0,error:null},d=({children:e,apiBaseUrl:t=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001"})=>{let[n,r]=(0,o.useReducer)(l,h),a=(0,o.useCallback)(()=>{let e=i.q.getToken(),t=i.q.getUser();e&&t&&!i.l.isTokenExpired(e)?r({type:"AUTH_INIT",payload:{user:t,token:e}}):(i.q.clearAll(),r({type:"AUTH_INIT",payload:null}))},[]),d=(0,o.useCallback)(async e=>{r({type:"AUTH_START"});try{let n=await fetch(`${t}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){let e=await n.json().catch(()=>({}));throw Error(e.message||"Login failed")}let s=await n.json();i.q.setToken(s.token),i.q.setUser(s.user),r({type:"AUTH_SUCCESS",payload:{user:s.user,token:s.token}})}catch(e){throw r({type:"AUTH_ERROR",payload:e instanceof Error?e.message:"Login failed"}),e}},[t]),m=(0,o.useCallback)(async()=>{try{let e=i.q.getToken();e&&await fetch(`${t}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${e}`}}).catch(()=>{})}finally{i.q.clearAll(),r({type:"AUTH_LOGOUT"})}},[t]),p=(0,o.useCallback)(async()=>{let e=i.q.getRefreshToken();if(!e){m();return}try{let n=await fetch(`${t}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(!n.ok)throw Error("Token refresh failed");let s=await n.json();i.q.setToken(s.token),i.q.setUser(s.user),r({type:"AUTH_SUCCESS",payload:{user:s.user,token:s.token}})}catch(e){m()}},[t,m]);(0,o.useEffect)(()=>{if(!n.token)return;let e=setInterval(()=>{i.l.isTokenExpired(n.token)&&p()},6e4);return()=>clearInterval(e)},[n.token,p]),(0,o.useEffect)(()=>{a()},[a]);let g=c(n.user),S={...n,login:d,logout:m,refreshToken:p,permissions:g};return s.jsx(u.Provider,{value:S,children:e})}},61417:(e,t,n)=>{"use strict";n.d(t,{l:()=>a,q:()=>c});let s="auth_token",o="auth_user",i="refresh_token";class r{isLocalStorageAvailable(){try{let e="test";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}setItem(e,t){if(this.isLocalStorageAvailable())localStorage.setItem(e,t);else try{sessionStorage.setItem(e,t)}catch{console.warn("Storage not available")}}getItem(e){if(this.isLocalStorageAvailable())return localStorage.getItem(e);try{return sessionStorage.getItem(e)}catch{return null}}removeItem(e){if(this.isLocalStorageAvailable())localStorage.removeItem(e);else try{sessionStorage.removeItem(e)}catch{}}getToken(){return this.getItem(s)}setToken(e){this.setItem(s,e)}removeToken(){this.removeItem(s)}getRefreshToken(){return this.getItem(i)}setRefreshToken(e){this.setItem(i,e)}removeRefreshToken(){this.removeItem(i)}getUser(){let e=this.getItem(o);if(!e)return null;try{return JSON.parse(e)}catch{return null}}setUser(e){this.setItem(o,JSON.stringify(e))}removeUser(){this.removeItem(o)}clearAll(){this.removeToken(),this.removeRefreshToken(),this.removeUser()}}class a{static decodePayload(e){try{let t=e.split(".");if(3!==t.length)return null;let n=t[1],s=atob(n.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(s)}catch{return null}}static isTokenExpired(e){let t=this.decodePayload(e);if(!t||!t.exp)return!0;let n=Math.floor(Date.now()/1e3);return t.exp<n}static getTokenExpiration(e){let t=this.decodePayload(e);return t&&t.exp?new Date(1e3*t.exp):null}static extractUserFromToken(e){let t=this.decodePayload(e);return t?{id:t.sub,email:t.email,role:t.role,permissions:t.permissions||[]}:null}}let c=new r},15659:(e,t,n)=>{"use strict";n.d(t,{ThemeProvider:()=>c});var s=n(56567),o=n(1861);let i={theme:"system",accessibility:"default",fontSize:"medium",reducedMotion:!1,highContrast:!1};function r(e){return"system"===e?"light":e}let a=(0,o.createContext)(void 0);function c({children:e,defaultTheme:t="system",storageKey:n="cc-task-manager-theme-preferences",enableTransitions:c=!0}){let[l,u]=(0,o.useState)(()=>({...i,theme:t})),[h,d]=(0,o.useState)("light"),[m,p]=(0,o.useState)(!1),g=(0,o.useCallback)(e=>{u(t=>({...t,theme:e})),d(r(e))},[]),S=(0,o.useCallback)(()=>{g("light"===h?"dark":"light")},[h,g]),k=(0,o.useCallback)(e=>{u(t=>({...t,accessibility:e,highContrast:"high-contrast"===e,reducedMotion:"reduced-motion"===e}))},[]),f=(0,o.useCallback)(e=>{u(t=>({...t,fontSize:e}))},[]),v=(0,o.useCallback)(e=>{u(t=>({...t,reducedMotion:e}))},[]),b=(0,o.useCallback)(e=>{u(t=>({...t,highContrast:e}))},[]),T=(0,o.useCallback)(()=>{u(i),d(r(i.theme))},[]),y={theme:l.theme,resolvedTheme:h,preferences:l,setTheme:g,toggleTheme:S,setAccessibility:k,setFontSize:f,setReducedMotion:v,setHighContrast:b,resetToDefaults:T,isDark:"dark"===h,isHighContrast:l.highContrast};return s.jsx(a.Provider,{value:y,children:e})}},28683:(e,t,n)=>{"use strict";n.d(t,{k:()=>c});var s=n(69021),o=n(36370),i=n(61417),r=n(36680);class a{constructor(e={}){this.socket=null,this.eventListeners=new Map,this.roomSubscriptions=new Map,this.reconnectTimer=null,this.authRetryTimer=null,this.config={url:process.env.NEXT_PUBLIC_WEBSOCKET_URL||"ws://localhost:3001",autoReconnect:!0,reconnectInterval:1e3,maxReconnectAttempts:5,timeout:1e4,enableDebugLogs:!1,...e},this.connectionState={isConnected:!1,isConnecting:!1,isAuthenticated:!1,reconnectAttempts:0,lastConnectedAt:null,lastDisconnectedAt:null,error:null},this.log("WebSocket client initialized with config:",this.config)}async connect(){if(this.connectionState.isConnected||this.connectionState.isConnecting){this.log("Already connected or connecting");return}this.connectionState.isConnecting=!0,this.connectionState.error=null;try{this.log("Connecting to WebSocket server:",this.config.url),this.socket=(0,s.io)(this.config.url,{timeout:this.config.timeout,transports:["websocket","polling"],autoConnect:!1}),this.setupEventListeners(),await new Promise((e,t)=>{let n=setTimeout(()=>{t(Error("Connection timeout"))},this.config.timeout);this.socket.once("connect",()=>{clearTimeout(n),e()}),this.socket.once("connect_error",e=>{clearTimeout(n),t(e)}),this.socket.connect()}),this.connectionState.isConnected=!0,this.connectionState.isConnecting=!1,this.connectionState.lastConnectedAt=new Date,this.connectionState.reconnectAttempts=0,this.log("Connected to WebSocket server");let e=i.q.getToken();e&&!i.l.isTokenExpired(e)&&await this.authenticate(e)}catch(e){throw this.connectionState.isConnecting=!1,this.connectionState.error=e instanceof Error?e.message:"Connection failed",this.log("Connection failed:",e),this.config.autoReconnect&&this.scheduleReconnect(),e}}disconnect(){this.log("Disconnecting from WebSocket server"),this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.authRetryTimer&&(clearTimeout(this.authRetryTimer),this.authRetryTimer=null),this.socket&&(this.socket.disconnect(),this.socket=null),this.connectionState.isConnected=!1,this.connectionState.isConnecting=!1,this.connectionState.isAuthenticated=!1,this.connectionState.lastDisconnectedAt=new Date,this.connectionState.reconnectAttempts=0,this.roomSubscriptions.clear()}async authenticate(e){if(!this.socket||!this.connectionState.isConnected)throw Error("Not connected to WebSocket server");if(i.l.isTokenExpired(e))throw Error("Token is expired");return this.log("Authenticating with server"),new Promise((t,n)=>{let s=setTimeout(()=>{n(Error("Authentication timeout"))},this.config.timeout);this.socket.once("auth:success",e=>{clearTimeout(s),this.connectionState.isAuthenticated=!0,this.connectionState.error=null,this.log("Authentication successful:",e),t()}),this.socket.once("auth:error",e=>{clearTimeout(s),this.connectionState.isAuthenticated=!1,this.connectionState.error=e.message||"Authentication failed",this.log("Authentication failed:",e),n(Error(e.message||"Authentication failed"))}),this.socket.emit("authenticate",{token:e})})}isConnected(){return this.connectionState.isConnected}isAuthenticated(){return this.connectionState.isAuthenticated}getConnectionState(){return{...this.connectionState}}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e).add(t),this.log(`Event listener registered for: ${e}`)}off(e,t){let n=this.eventListeners.get(e);n&&(n.delete(t),0===n.size&&this.eventListeners.delete(e),this.log(`Event listener removed for: ${e}`))}emit(e,t){let n=this.eventListeners.get(e);n&&n.forEach(n=>{try{n(t)}catch(t){this.log(`Error in event listener for ${e}:`,t)}})}async joinRoom(e){if(!this.socket||!this.connectionState.isAuthenticated)throw Error("Not connected or authenticated");return new Promise((t,n)=>{let s=setTimeout(()=>{n(Error(`Failed to join room: ${e}`))},this.config.timeout);this.socket.once("room:joined",n=>{n.room===e&&(clearTimeout(s),this.roomSubscriptions.has(e)?this.roomSubscriptions.get(e).isSubscribed=!0:this.roomSubscriptions.set(e,{room:e,subscriptions:new Set,isSubscribed:!0}),this.log(`Joined room: ${e}, members: ${n.members}`),t())}),this.socket.once("room:error",t=>{clearTimeout(s),this.log(`Failed to join room ${e}:`,t),n(Error(t.message||`Failed to join room: ${e}`))}),this.socket.emit("join:room",{room:e})})}async leaveRoom(e){if(!this.socket)throw Error("Not connected");return new Promise((t,n)=>{let s=setTimeout(()=>{n(Error(`Failed to leave room: ${e}`))},this.config.timeout);this.socket.once("room:left",n=>{if(n.room===e){clearTimeout(s);let n=this.roomSubscriptions.get(e);n&&(n.isSubscribed=!1),this.log(`Left room: ${e}`),t()}}),this.socket.emit("leave:room",{room:e})})}subscribeToRoom(e,t,n){this.roomSubscriptions.has(e)||this.roomSubscriptions.set(e,{room:e,subscriptions:new Set,isSubscribed:!1}),this.roomSubscriptions.get(e).subscriptions.add(n),this.on(t,n),this.log(`Subscribed to ${t} in room: ${e}`)}unsubscribeFromRoom(e,t,n){let s=this.roomSubscriptions.get(e);s&&(s.subscriptions.delete(n),this.off(t,n),this.log(`Unsubscribed from ${t} in room: ${e}`))}getRoomSubscriptions(){let e={};return this.roomSubscriptions.forEach((t,n)=>{e[n]={...t}}),e}setupEventListeners(){this.socket&&(this.socket.on("connect",()=>{this.log("Socket connected"),this.connectionState.isConnected=!0,this.connectionState.isConnecting=!1,this.connectionState.lastConnectedAt=new Date,this.connectionState.reconnectAttempts=0}),this.socket.on("disconnect",e=>{this.log("Socket disconnected:",e),this.connectionState.isConnected=!1,this.connectionState.isAuthenticated=!1,this.connectionState.lastDisconnectedAt=new Date,"io server disconnect"===e?this.connectionState.error="Server disconnected":this.config.autoReconnect&&this.scheduleReconnect()}),this.socket.on("connect_error",e=>{this.log("Connection error:",e),this.connectionState.error=e.message,this.config.autoReconnect&&this.scheduleReconnect()}),this.socket.onAny((e,t)=>{try{let n={event:e,timestamp:new Date().toISOString(),...t},s=r.k6.parse(n);this.emit(s.event,s)}catch(t){t instanceof o.jm?this.log(`Invalid event format for ${e}:`,t.errors):this.log(`Error processing event ${e}:`,t)}}))}scheduleReconnect(){if(this.connectionState.reconnectAttempts>=this.config.maxReconnectAttempts){this.log("Max reconnection attempts reached"),this.connectionState.error="Max reconnection attempts reached";return}let e=Math.min(this.config.reconnectInterval*Math.pow(2,this.connectionState.reconnectAttempts),3e4);this.connectionState.reconnectAttempts++,this.log(`Scheduling reconnection attempt ${this.connectionState.reconnectAttempts} in ${e}ms`),this.reconnectTimer=setTimeout(()=>{this.log(`Reconnection attempt ${this.connectionState.reconnectAttempts}`),this.connect().catch(e=>{this.log("Reconnection failed:",e)})},e)}log(e,...t){this.config.enableDebugLogs&&console.log(`[WebSocket] ${e}`,...t)}}let c=new a},71956:(e,t,n)=>{"use strict";n.d(t,{WebSocketProvider:()=>c});var s=n(56567),o=n(1861),i=n(28683),r=n(88356);let a=(0,o.createContext)(void 0);function c({children:e,client:t=i.k,autoConnect:n=!0,room:c}){let l=(0,r.h5)(c,t);(0,o.useRef)(!1);let u={client:t,isConnected:l.isConnected,isAuthenticated:l.isAuthenticated,isConnecting:l.isConnecting,error:l.error,connect:l.connect,disconnect:l.disconnect,authenticate:l.authenticate,isAuthenticating:l.isAuthenticating,authError:l.authError};return s.jsx(a.Provider,{value:u,children:e})}},88356:(e,t,n)=>{"use strict";n.d(t,{h5:()=>r});var s=n(1861),o=n(28683),i=n(61417);function r(e,t=o.k){let n=function(e=o.k){let[t,n]=(0,s.useState)(e.getConnectionState());return{connectionState:t,connect:(0,s.useCallback)(async()=>{try{await e.connect()}catch(e){console.error("Failed to connect to WebSocket:",e)}},[e]),disconnect:(0,s.useCallback)(()=>{e.disconnect()},[e]),isConnected:t.isConnected,isAuthenticated:t.isAuthenticated,isConnecting:t.isConnecting,error:t.error}}(t),r=function(e=o.k){let[t,n]=(0,s.useState)(!1),[r,a]=(0,s.useState)(null);return{authenticate:(0,s.useCallback)(async()=>{let t=i.q.getToken();if(!t)return a("No authentication token available"),!1;n(!0),a(null);try{return await e.authenticate(t),!0}catch(e){return a(e instanceof Error?e.message:"Authentication failed"),!1}finally{n(!1)}},[e]),isAuthenticating:t,authError:r}}(t),a=e?function(e,t=o.k){let[n,i]=(0,s.useState)(!1),[r,a]=(0,s.useState)(!1),[c,l]=(0,s.useState)(null),u=(0,s.useCallback)(async()=>{if(!n&&!r){a(!0),l(null);try{await t.joinRoom(e),i(!0)}catch(e){l(e instanceof Error?e.message:"Failed to join room")}finally{a(!1)}}},[t,e,n,r]),h=(0,s.useCallback)(async()=>{if(n)try{await t.leaveRoom(e),i(!1)}catch(e){l(e instanceof Error?e.message:"Failed to leave room")}},[t,e,n]);return{isSubscribed:n,isJoining:r,error:c,joinRoom:u,leaveRoom:h,subscribeToEvent:(0,s.useCallback)((n,s)=>{t.subscribeToRoom(e,n,s)},[t,e]),unsubscribeFromEvent:(0,s.useCallback)((n,s)=>{t.unsubscribeFromRoom(e,n,s)},[t,e])}}(e,t):null,c=function(e=o.k){let[t,n]=(0,s.useState)(null),[i,r]=(0,s.useState)(null);return function(e,t,n=o.k,i=[]){(0,s.useRef)(t).current=t}(0,(0,s.useCallback)(e=>{n(e.data),r(new Date)},[]),e),{systemStatus:t,lastUpdate:i,activeTasks:t?.activeTasks??0,queueLength:t?.queueLength??0,workerStatus:t?.workerStatus??"unavailable",uptime:t?.uptime??0}}(t);return{...n,...r,room:a?{...a,room:e}:null,systemStatus:c.systemStatus,systemLastUpdate:c.lastUpdate}}},36680:(e,t,n)=>{"use strict";n.d(t,{k6:()=>f});var s=n(70866),o=n(49527);let i=s.Ry({event:s.Z_(),timestamp:s.Z_().datetime(),id:s.Z_().uuid().optional()}),r=i.extend({event:s.i0("task:update"),data:o.TaskStatusSchema}),a=i.extend({event:s.i0("task:created"),data:s.Ry({taskId:s.Z_(),sessionName:s.Z_(),userId:s.Z_(),createdAt:s.Z_().datetime()})}),c=i.extend({event:s.i0("task:completed"),data:s.Ry({taskId:s.Z_(),result:s.Z_().optional(),duration:s.Rx(),exitCode:s.Rx()})}),l=i.extend({event:s.i0("task:error"),data:s.Ry({taskId:s.Z_(),error:s.Z_(),stackTrace:s.Z_().optional()})}),u=i.extend({event:s.i0("system:status"),data:s.Ry({activeTasks:s.Rx(),queueLength:s.Rx(),workerStatus:s.Km(["healthy","degraded","unavailable"]),uptime:s.Rx()})}),h=i.extend({event:s.i0("user:connected"),data:s.Ry({userId:s.Z_(),sessionId:s.Z_(),connectedAt:s.Z_().datetime()})}),d=i.extend({event:s.i0("user:disconnected"),data:s.Ry({userId:s.Z_(),sessionId:s.Z_(),disconnectedAt:s.Z_().datetime(),reason:s.Z_().optional()})}),m=i.extend({event:s.i0("auth:required"),data:s.Ry({message:s.Z_(),retryAfter:s.Rx().optional()})}),p=i.extend({event:s.i0("auth:success"),data:s.Ry({userId:s.Z_(),sessionId:s.Z_(),permissions:s.IX(s.Z_())})}),g=i.extend({event:s.i0("auth:error"),data:s.Ry({message:s.Z_(),code:s.Z_()})}),S=i.extend({event:s.i0("room:joined"),data:s.Ry({room:s.Z_(),members:s.Rx()})}),k=i.extend({event:s.i0("room:left"),data:s.Ry({room:s.Z_(),reason:s.Z_().optional()})}),f=s.VK("event",[r,a,c,l,u,h,d,m,p,g,S,k])},49527:(e,t,n)=>{"use strict";var s=Object.create?function(e,t,n,s){void 0===s&&(s=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,o)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]};Object.defineProperty(t,"__esModule",{value:!0}),t.workerConfig=void 0,function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)}(n(33834),t);var o=n(84979);Object.defineProperty(t,"workerConfig",{enumerable:!0,get:function(){return o.default}})},84979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=n(56483),o=n(33834);t.default=(0,s.registerAs)("worker",()=>{let e={maxConcurrentTasks:parseInt(process.env.WORKER_MAX_CONCURRENT_TASKS||"5"),processTimeoutMs:parseInt(process.env.WORKER_PROCESS_TIMEOUT_MS||"600000"),gracefulShutdownMs:parseInt(process.env.WORKER_GRACEFUL_SHUTDOWN_MS||"5000"),pidCheckIntervalMs:parseInt(process.env.WORKER_PID_CHECK_INTERVAL_MS||"1000"),fileWatchTimeoutMs:parseInt(process.env.WORKER_FILE_WATCH_TIMEOUT_MS||"30000"),inactivityTimeoutMs:parseInt(process.env.WORKER_INACTIVITY_TIMEOUT_MS||"120000"),pythonExecutable:process.env.PYTHON_EXECUTABLE||"python3",wrapperScriptPath:process.env.PYTHON_WRAPPER_SCRIPT_PATH||"./scripts/claude_wrapper.py",wrapperWorkingDir:process.env.PYTHON_WRAPPER_WORKING_DIR,queueName:process.env.BULLMQ_QUEUE_NAME||"claude-code-tasks",redisHost:process.env.REDIS_HOST||"localhost",redisPort:parseInt(process.env.REDIS_PORT||"6379"),redisPassword:process.env.REDIS_PASSWORD,logLevel:process.env.LOG_LEVEL||"info",enableDetailedLogs:"true"===process.env.ENABLE_DETAILED_LOGS,sessionLogsDir:process.env.SESSION_LOGS_DIR,awaitWriteFinish:"false"!==process.env.AWAIT_WRITE_FINISH,awaitWriteFinishMs:parseInt(process.env.AWAIT_WRITE_FINISH_MS||"100")};return o.WorkerConfigSchema.parse(e)})},33834:(e,t,n)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),t.validateTaskStatus=t.validateWorkerConfig=t.validateClaudeCodeOptions=t.validateTaskExecutionRequest=t.validateProcessConfig=t.TaskStatusSchema=t.WorkerConfigSchema=t.TaskExecutionRequestSchema=t.ClaudeCodeOptionsSchema=t.ProcessConfigSchema=t.TaskState=void 0;let o=n(15432);(function(e){e.PENDING="pending",e.RUNNING="running",e.ACTIVE="active",e.IDLE="idle",e.COMPLETED="completed",e.FAILED="failed",e.CANCELLED="cancelled"})(s||(t.TaskState=s={})),t.ProcessConfigSchema=o.z.object({jobId:o.z.string().min(1,"Job ID is required"),sessionName:o.z.string().min(1,"Session name is required"),workingDirectory:o.z.string().min(1,"Working directory is required"),pythonExecutable:o.z.string().optional().default("python3"),wrapperScriptPath:o.z.string().min(1,"Wrapper script path is required"),unbuffered:o.z.boolean().default(!0)}),t.ClaudeCodeOptionsSchema=o.z.object({model:o.z.string().optional(),maxTokens:o.z.number().positive().optional(),temperature:o.z.number().min(0).max(2).optional(),timeout:o.z.number().positive().optional().default(3e5),permission_mode:o.z.enum(["bypassPermissions","default","plan","acceptEdits"]).optional()}),t.TaskExecutionRequestSchema=o.z.object({id:o.z.string().min(1,"Task ID is required"),prompt:o.z.string().min(1,"Prompt is required"),sessionName:o.z.string().min(1,"Session name is required"),workingDirectory:o.z.string().min(1,"Working directory is required"),options:t.ClaudeCodeOptionsSchema,timeoutMs:o.z.number().positive().optional().default(3e5)}),t.WorkerConfigSchema=o.z.object({maxConcurrentTasks:o.z.number().positive().default(5),processTimeoutMs:o.z.number().positive().default(6e5),gracefulShutdownMs:o.z.number().positive().default(5e3),pidCheckIntervalMs:o.z.number().positive().default(1e3),fileWatchTimeoutMs:o.z.number().positive().default(3e4),inactivityTimeoutMs:o.z.number().positive().default(12e4),pythonExecutable:o.z.string().default("python3"),wrapperScriptPath:o.z.string().min(1,"Wrapper script path is required"),wrapperWorkingDir:o.z.string().optional(),queueName:o.z.string().default("claude-code-tasks"),redisHost:o.z.string().default("localhost"),redisPort:o.z.number().positive().default(6379),redisPassword:o.z.string().optional(),logLevel:o.z.enum(["fatal","error","warn","info","debug","trace"]).default("info"),enableDetailedLogs:o.z.boolean().default(!1),sessionLogsDir:o.z.string().optional(),awaitWriteFinish:o.z.boolean().default(!0),awaitWriteFinishMs:o.z.number().positive().default(100)}),t.TaskStatusSchema=o.z.object({taskId:o.z.string(),state:o.z.nativeEnum(s),pid:o.z.number().optional(),progress:o.z.string().optional(),lastActivity:o.z.date(),error:o.z.string().optional(),exitCode:o.z.number().optional()}),t.validateProcessConfig=e=>t.ProcessConfigSchema.parse(e),t.validateTaskExecutionRequest=e=>t.TaskExecutionRequestSchema.parse(e),t.validateClaudeCodeOptions=e=>t.ClaudeCodeOptionsSchema.parse(e),t.validateWorkerConfig=e=>t.WorkerConfigSchema.parse(e),t.validateTaskStatus=e=>t.TaskStatusSchema.parse(e)},65985:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d,metadata:()=>h});var s=n(49865),o=n(22365),i=n.n(o);n(35160);var r=n(73051);let a=(0,r.createProxy)(String.raw`/home/rmondo/repos/cc-task-manager/apps/frontend/src/lib/theme/context.tsx#ThemeProvider`);(0,r.createProxy)(String.raw`/home/rmondo/repos/cc-task-manager/apps/frontend/src/lib/theme/context.tsx#useTheme`);let c=(0,r.createProxy)(String.raw`/home/rmondo/repos/cc-task-manager/apps/frontend/src/lib/auth/context.tsx#AuthProvider`);(0,r.createProxy)(String.raw`/home/rmondo/repos/cc-task-manager/apps/frontend/src/lib/auth/context.tsx#useAuth`);let l=(0,r.createProxy)(String.raw`/home/rmondo/repos/cc-task-manager/apps/frontend/src/lib/websocket/context.tsx#WebSocketProvider`);(0,r.createProxy)(String.raw`/home/rmondo/repos/cc-task-manager/apps/frontend/src/lib/websocket/context.tsx#useWebSocketContext`),(0,r.createProxy)(String.raw`/home/rmondo/repos/cc-task-manager/apps/frontend/src/lib/websocket/context.tsx#useWebSocketClient`);let u=(0,r.createProxy)(String.raw`/home/rmondo/repos/cc-task-manager/apps/frontend/src/lib/api/providers.tsx#ReactQueryProvider`),h={title:"CC Task Manager",description:"Contract-driven task management system with real-time updates",viewport:"width=device-width, initial-scale=1"};function d({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:s.jsx("body",{className:i().className,children:s.jsx(a,{children:s.jsx(u,{children:s.jsx(c,{children:s.jsx(l,{children:e})})})})})})}},35160:()=>{}};